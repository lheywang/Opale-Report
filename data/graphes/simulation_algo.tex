\begin{figure}[!ht]
    \centering
    \resizebox{0.5\textwidth}{!}{%
        \begin{circuitikz}
            \tikzstyle{every node}=[font=\large]
            \draw [ fill={rgb,255:red,168; green,255; blue,168} ] (12.5,30.75) rectangle  node {\large $\text{Start of calculations :} M_0, V_0, Z_0, \theta_0$} (25,28.25);
            \draw [ fill={rgb,255:red,125; green,190; blue,255} ] (12.5,25.75) rectangle  node {\large $\text{Calculate} M_i$} (25,23.25);
            \draw [ fill={rgb,255:red,125; green,190; blue,255} ] (5,20.75) rectangle  node {\large $\text{Calculate} \gamma X_i (\text{Depends} n R_{i-1} and cos \theta_{i-1})$} (17.5,18.25);
            \draw [ fill={rgb,255:red,125; green,190; blue,255} ] (20,20.75) rectangle  node {\large $\text{Calculate} \gamma Y_i (\text{Depends} n R_{i-1} and sin \theta_{i-1})$} (32.5,18.25);
            \draw [ fill={rgb,255:red,125; green,190; blue,255} ] (5,15.75) rectangle  node {\large $\text{Calculate} V\gamma_i (\text{Depends on} Vx and \gamma_i)$} (17.5,13.25);
            \draw [ fill={rgb,255:red,125; green,190; blue,255} ] (20,15.75) rectangle  node {\large $\text{Calculate} Vz_i (\text{Depends on} Vz_{i-1} and \gamma_i )$} (32.5,13.25);
            \draw [ fill={rgb,255:red,125; green,190; blue,255} ] (5,10.75) rectangle  node {\large $\text{Calculate} the x_i (\text{Depends on} X_{i-1} and \gamma X_i)$} (17.5,8.25);
            \draw [ fill={rgb,255:red,125; green,190; blue,255} ] (20,10.75) rectangle  node {\large $\text{Calculate} Z_i (\text{Depends on} Z_{i-1} and \gamma Z_i)$} (32.5,8.25);
            \draw [ fill={rgb,255:red,125; green,190; blue,255} ] (12.5,5.75) rectangle  node {\large $\text{Calculate} V_i$} (25,3.25);
            \draw [ fill={rgb,255:red,125; green,190; blue,255} ] (12.5,0.75) rectangle  node {\large $\text{Calculate} R_i$} (25,-1.75);
            \draw [ fill={rgb,255:red,125; green,190; blue,255} ] (12.5,-4.25) rectangle  node {\large $\text{Calculate} \theta_i$} (25,-6.75);
            \draw [ fill={rgb,255:red,251; green,223; blue,249} ] (12.5,-9.25) rectangle  node {\large Does the rocket has landed ?} (25,-11.75);
            \draw [ fill={rgb,255:red,255; green,128; blue,128} ] (12.5,-14.25) rectangle  node {\large End of calculations} (25,-16.75);
            \draw [->, >=Stealth] (18.75,28.25) -- (18.75,25.75);
            \draw [->, >=Stealth] (11.25,22) -- (11.25,20.75);
            \draw [->, >=Stealth] (26.25,22) -- (26.25,20.75);
            \draw [->, >=Stealth] (11.25,18.25) -- (11.25,15.75);
            \draw [->, >=Stealth] (26.25,18.25) -- (26.25,15.75);
            \draw [->, >=Stealth] (11.25,13.25) -- (11.25,10.75);
            \draw [->, >=Stealth] (26.25,13.25) -- (26.25,10.75);
            \draw [->, >=Stealth] (18.75,7) -- (18.75,5.75);
            \draw [->, >=Stealth] (18.75,3.25) -- (18.75,0.75);
            \draw [->, >=Stealth] (18.75,-1.75) -- (18.75,-4.25);
            \draw [short] (11.25,22) -- (26.25,22);
            \draw [short] (18.75,23.25) -- (18.75,22);
            \draw [short] (11.25,8.25) -- (11.25,7);
            \draw [short] (11.25,7) -- (26.25,7);
            \draw [short] (26.25,8.25) -- (26.25,7);
            \draw [->, >=Stealth] (18.75,-6.75) -- (18.75,-9.25);
            \draw [->, >=Stealth] (18.75,-11.75) -- (18.75,-14.25)node[pos=0.5, fill=white]{YES};
            \draw [short] (12.5,-10.5) -- (2.5,-10.5)node[pos=0.5, fill=white]{NO};
            \draw [short] (2.5,-10.5) -- (2.5,24.5);
            \draw [->, >=Stealth] (2.5,24.5) -- (12.5,24.5);
        \end{circuitikz}
    }%
    \caption{Algorithm used to simulate the rocket trajectory.}
    \label{fig:my_label}
\end{figure}