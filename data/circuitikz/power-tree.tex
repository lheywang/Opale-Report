\begin{figure}[!ht]
    \centering
    \resizebox{\SchematicWidth}{!}{%
        \begin{circuitikz}
            \tikzstyle{every node}=[font=\large]
            \draw [ fill={rgb,255:red,195; green,232; blue,235} ] (-1.25,17.25) rectangle  node {\large Battery 1} (3.75,14.75);
            \draw [ fill={rgb,255:red,195; green,232; blue,235} ] (-1.25,11) rectangle  node {\large Battery 2} (3.75,8.5);
            \draw [ fill={rgb,255:red,218; green,187; blue,217} ] (-1.25,4.75) rectangle  node {\large USB} (3.75,2.25);
            \draw [ fill={rgb,255:red,233; green,235; blue,199} ] (8.75,17.25) rectangle  node {\normalsize 5V buck (2A)} (13.75,14.75);
            \draw [ fill={rgb,255:red,233; green,235; blue,199} ] (8.75,11) rectangle  node {\large 3.3V Buck (200 mA)} (13.75,8.5);
            \draw [ fill={rgb,255:red,236; green,195; blue,195} ] (18.75,17.25) rectangle  node {\large Servo and power circuits} (23.75,14.75);
            \draw [ fill={rgb,255:red,158; green,148; blue,213} ] (18.75,11) rectangle  node {\large Logic IC and analog circuits} (23.75,8.5);
            \draw (6.25,4.75) to[D] (6.25,8.5);
            \draw [short] (3.75,3.5) -- (6.25,3.5);
            \draw [short] (6.25,4.75) -- (6.25,3.5);
            \draw [short] (3.75,9.75) -- (8.75,9.75);
            \draw [short] (6.25,8.5) -- (6.25,9.75);
            \draw [short] (3.75,16) -- (8.75,16);
            \draw [short] (13.75,16) -- (18.75,16);
            \draw [short] (13.75,9.75) -- (18.75,9.75);
            \draw [dashed] (6.25,9.75) -- (6.25,16);
            \node [font=\large] at (5,16.5) {7.4V - 8.2V};
            \node [font=\large] at (5,10.25) {4.3V - 8.2V};
            \node [font=\large] at (15.25,16.5) {5V};
            \node [font=\large] at (15.25,10.25) {3.3V};
            \draw [dashed] (6.25,16) -- (6.25,18.5);
            \draw [dashed] (6.25,18.5) -- (16.25,18.5);
            \draw [dashed] (16.25,18.5) -- (16.25,16);
        \end{circuitikz}
    }%
    \caption{Power tree of the board}\label{fig:power_tree}
\end{figure}
\FloatBarrier